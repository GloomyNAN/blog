<!DOCTYPE html>
<html lang="zh-CN">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="VIM"/><link rel="alternate" href="/atom.xml" title="Yikes">
<link rel="canonical" href="http://blog.gloomynan.com/2020/05/21/Editor/VI /vim_del/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":"","toc":"","fancybox":"","pjax":"","latex":""};
</script>

    <title>VIM - Yikes</title>
  <meta name="generator" content="Hexo 4.2.1"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Yikes</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Yikes</a>
</div>

<nav class="site-navbar"></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">VIM
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2020-05-21
        </span></div>
    </header>

    <div class="post-content"><p>简明 VIM 教程</p>
<p>VIM 简介</p>
<p>我们使用的大多数编辑器，都可以直接在编辑区输入字符，并且能够通过一些快捷键来完成一些控制功能，比如使用方向键移动光标，使用</p>
<p>BackSpack 或者 Delete 键删除文字，使用 PgUp 和 PgDn 翻页，使用 Home 和 End 来定位行首和行末……</p>
<p>而    Vim 是一个带模式的编辑器，同样的按键，在不同模式下，具有不同的功能定义。例如 h j k l 在 编辑模式 下输入相应的字符，在普通模式 下却相当于方向键的作用。</p>
<p>由于需要切换模式，Vim 的使用起来略显繁琐。不过优点也显而易见：您只要把手安安稳稳的放在打字区就可以了，而不需要使用诸如方向键、排版键、小键盘等</p>
<p>需要挪开双手的键位，从而提高了您的效率和专注程度。事实上，Vim 的前身 Vi 诞生的时候，键盘上还没有方向键、排版键和小键盘：）</p>
<p>命令</p>
<p>使用 Vim 编辑文件:</p>
<p>vi    [文件名] vim [文件名]</p>
<p>教学模式:</p>
<p>vimtutor [语言]</p>
<p>vim 教程，相当于使用 Vim 编辑器以只读模式打开教程文件。您无论对这个文件作了什么，都会在退出后恢复原来的样貌。与只读模式的区别在于，它不会没有眼色的提醒您，现在的状态为只读模式。您可以使用它作一些练习</p>
<p>您可以指定教程文件的语言，如果使用本地语言(ZH_cn)出现乱码，您可以尝试使用英语</p>
<p>vimtutor en</p>
<p>使用 Vim 比较文件区别</p>
<p>vimdiff [文件 1] [文件 2] [其它文件]……</p>
<p>配置文件</p>
<p>Vim 的全局配置文件为 /etc/vim/vimrc ，用户配置文件为 ~/.vimrc ， “ 起始的行为注释行。我们提供的</p>
<p>配置项，您直接加入配置文件就可以了</p>
<p>您可以先对 Vim 进行一些简单的配置：</p>
<p>“设定文件编码</p>
<p>set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936</p>
<p>“开启语法加亮</p>
<p>syntax on</p>
<p>“配色风格</p>
<p>colorscheme pablo</p>
<p>“设定行距 GUI 界面中生效</p>
<p>44</p>
<p>Ubuntu 完全教程(szyzln 于 2009 年 5 月 9 日整理)</p>
<p>set linespace=4</p>
<p>“设定 GUI 选项</p>
<p>“set guioptions=gmrLtT m:菜单 T:工具栏</p>
<p>set guioptions=gmrLt</p>
<p>“设定 Tab 键缩进的空格数</p>
<p>set tabstop=4</p>
<p>“设定编辑器将多少空格视为一个缩进</p>
<p>set shiftwidth=4</p>
<p>“将缩进转换为空格</p>
<p>“set expandtab</p>
<p>“设定折叠方式</p>
<p>“set foldmethod=indent</p>
<p>“以下字符将被视为单词的一部分 (ASCII)：</p>
<p>“set iskeyword+=33-47,58-64,91-96,123-128</p>
<p>模式介绍</p>
<p>Vim 常见的模式有：普通模式 、插入模式 、命令模式 ，另外我们也会经常用到可视模式 。</p>
<p>Vim 启动时进入普通模式 ；或者在其它模式下，按下 Esc 键，便可以回到普通模式。</p>
<p>使用 vimtutor en 命令进入教程，现在是普通模式。随便按几下 j 、 k 、 l 、 h 键，您会发现光标的位置发生改变。</p>
<p>按下 i 键，编辑器底部出现了 – 插入 – 或者 – insert – ，您进入了插入模式。随便按几下 j 、 k 、 l、 h，您会发现相应的字符出现在编辑区，现在还可以通过方向键来移动光标。可能您觉得使用方向键移动光标不是什么问题，但是习惯了 Vim 后，您会认为方向键太麻烦了，简直不能容忍！好了，现在按下 Esc 键回到普通模式，我们又可以使用 j 、 k 、 l 、 h 来移动光标了。</p>
<p>在普通模式下，按下 : 键（也就是 Shift+; ），在编辑器底部出现了一个 : ，您进入了命令模式。在 : 后输入一个命令 new ，回车后，编辑器被分割为上下两栏。为了方便起见，我们在命令前加一个 : 来表示命令模式下输入的命令，像这样</p>
<p>:vnew</p>
<p>一个命令能够以一些规则简化，上面的命令也可以写为这种形式</p>
<p>:vne</p>
<p>现在您的编辑区一定弄的四分五裂，您可以使用命令“:quit”来关闭当前栏，直接用简写就可以了</p>
<p>:q</p>
<p>这个命令是退出编辑器，如果编辑区被分成多栏，则是退出当前栏。</p>
<p>执行完一个命令（按下回车后），编辑器会自动回到普通模式。如果您想不执行当前命令，直接回到普通模式，您可以按下 Esc 键。</p>
<p>按下 v 键，您进入了可视模式，可以使用 j 、 k 、 l 、 h 移动光标，高亮选取文本 。</p>
<p>事实上，可视模式相当于高亮选取文本后的普通模式。</p>
<p>可视模式具有子模式，以行为单位进行选取的可视行模式，使用 V 键进入（也就是 Shift+v ）；和以块为单位进行选取的可视块模式，使用 Ctrl+v 键进入。</p>
<p>模式切换</p>
<p>好了，现在我们总结一下模式间切换的方法</p>
<p>其它模式==&gt;普通模式</p>
<p>Esc</p>
<p>普通模式==&gt;插入模式</p>
<p>45</p>
<p>Ubuntu 完全教程(szyzln 于 2009 年 5 月 9 日整理)</p>
<p>i 在光标前插入 I 在行首插入    a 在光标后插入 A 在行末插入<br>o 在当前行之下新建行 O 在当前行之上新建行    r 替换当前字符 R 从当前字符开始替换<br>普通模式==&gt;命令模式    普通模式==&gt;可视模式    v 可视模式    V 可视块模式<br>&lt;Ctrl+v&gt; 可视块模式<br>移动<br>在普通模式中，您可以使用以下方式移动光标<br>j 向下    k 向上    l 向右 h l    h 向左 j<br>您可以使用其它更有效率的方式移动光标<br>w 下一个单词词首 W 将特殊符号视为单词的一部分    b 上一个单词词首 B 同上<br>e 单词末尾 E 同上    0 行首 ^ 行首文字（行首空格之后）    $ 行末<br>H 页面顶部    M 页面中部    L 页面底部            </p>
<p>在其它模式中，您可以使用方向键移动光标，不过我们不推荐您那样作，您可以在配置文件中绑定插入模式下的功能键</p>
<p>noremap! <M-j> <Down></p>
<p>noremap! <M-k> <Up></p>
<p>noremap! <M-h> <left></p>
<p>noremap! <M-l> <Right></p>
<p>………………</p>
<p>&lt;作用范围&gt; &lt;键位&gt; &lt;功能&gt;</p>
<p>其中，map!绑定的键盘映射，作用于所有模式；inoremap!绑定的映射，仅作用于插入模式。</p>
<p>数字参数</p>
<p>您也可以使用数字参数，来重复执行。例如</p>
<p>100j 执行 100 次 j 键，向下 100 行</p>
<p>或者作为跳转的行号、百分比。见下面的浏览部分</p>
<p>&lt;行号&gt; Ctrl+g 按行号跳转</p>
<p>标记</p>
<p>您可以在当前光标处作一个标记，以便快速返回</p>
<p>m&lt;标记名称&gt; 定义标记。标记名称为一个字符</p>
<p>`&lt;标记名称&gt; 返回标记</p>
<p>mx 将当前光标处定义为标记 x</p>
<p>`x 返回标记 x</p>
<p>浏览</p>
<p>&lt;Ctrl+f&gt; 下翻一页 &lt;Ctrl+d&gt; 下翻半页    &lt;Ctrl+b&gt; 上翻一页 &lt;Ctrl+u&gt; 上翻半页</p>
<p>gg 文件首行    G 文件末行    &lt;行号&gt;G 按行号转到相应行</p>
<p>&lt;1~100&gt;% 按百分比转到相应的行数    zz 将光标所在行调整至页面中间</p>
<p>&lt;Ctrl+e&gt; 下卷一行    &lt;Ctrl+y&gt; 上卷一行</p>
<p>说明：gg 定位到文件首行， V 进入可视行模式， G 定位到文件末行，实现类似“全选”的功能。依次按</p>
<p>下    g g V(Shift+v) G(Shift+g)</p>
<p>编辑</p>
<p>x 剪切当前字符    dd 剪切当前行    y 复制可视模式选取字符    yy 复制当前行</p>
<p>p 在光标后粘贴 P 在光标前粘贴    u 撤消    &lt;trl+r&gt; 重做</p>
<p>46</p>
<p>Ubuntu 完全教程(szyzln 于 2009 年 5 月 9 日整理)</p>
<p>&lt;Ctrl+y&gt; 逐字克隆上一行内容    &lt;Ctrl+e&gt; 逐字克隆下一行内容</p>
<p>寄存器操作</p>
<p>Vim 可以将不同字段剪切或复制到不同寄存器中，您可以从不同寄存器中取出内容后粘贴</p>
<p>“&lt;寄存器名称&gt; 按下“””键和另一个字符键，便可以定义一个寄存器。例如：</p>
<p>“a “1</p>
<p>定义寄存器后直接进行操作</p>
<p>“ayy 将当前行复制到寄存器 a 中</p>
<p>“ap 将寄存器 a 中的内容粘贴到光标之后</p>
<ul>
<li><p>通常情况下，寄存器 + ( “ + Shift+= )对应 X 下的剪贴板。您在其它程序中复制的内容，可以使用 “+p 粘贴到 Vim 中；您在 Vim 中，可以使用 “+y 将内容复制到剪贴板，再粘贴到其它程序中</p>
</li>
<li><p>没有指定寄存器时，Vim 使用“无名寄存器”存储内容</p>
</li>
</ul>
<p>搜索和替换</p>
<p>按下 / 键，编辑器底部会出现 / 符号，接着输入字符串，便可以进行搜索</p>
<p>/    向下搜索 ? 向上搜索</p>
<p>n    搜索下一个</p>
<p>N    搜索上一个</p>
<p>:s/&lt;源字符串&gt;/&lt;目标字符串&gt; 将源字符串替换为目标字符串</p>
<p>:s/&lt;源字符串&gt;/&lt;目标字符串&gt;/g 替换当前行中所有符合条件的字符串:&lt;行号 1&gt;,&lt;行号 2&gt;s/&lt;源字符串&gt;/&lt;目标字符串&gt;/g 在指定行中进行替换:%s/&lt;源字符串&gt;/&lt;目标字符串&gt;/g 全文替换</p>
<p>正则表达式</p>
<p>在搜索和替换时，可以使用正则表达式进行匹配</p>
<p>宏</p>
<p>您可以将一系列的操作录制为一个宏，然后执行它</p>
<p>q&lt;宏名称&gt; 开始录制宏。宏名称为一个字符</p>
<p>q    录制中按下“q”键，结束录制</p>
<p>@&lt;宏名称&gt; 执行宏</p>
<p>插入模式下的快捷键</p>
<p>&lt;Ctrl+r&gt;&lt;寄存器名称&gt; 输入指定寄存器内容</p>
<p>&lt;Ctrl+k&gt;&lt;2 个字符&gt; 输入二合字符</p>
<p>&lt;Ctrl+v&gt;&lt;数字&gt; 通过数字编码输入字符</p>
<p>&lt;Ctrl+v&gt;&lt;键位&gt; 输入键位的名称</p>
<p>键绑定、缩写</p>
<p>前面我们已经向您介绍了键绑定，</p>
<p>map! <M-j> <Down></p>
<p>尖括号及其中的内容，为 Vim 配置文件的约定，分别描述了按键和功能，表示将功能编写到按键上。如果绑定的只是普通字符，例如：</p>
<p>map! xxx XXXXX</p>
<p>表示将 fXXXXX 绑定到 xxx 上。当您键入 xxx 时，编辑器会自动替换为 XXXXX 。</p>
<p>如果您只是想将字符串绑定为缩写，方便输入，我们建议您使用 iabbrev 来绑定。例如：</p>
<p>47</p>
<p>Ubuntu 完全教程(szyzln 于 2009 年 5 月 9 日整理)</p>
<p>iabbrev ubt Ubuntu</p>
<p>在插入模式下键入 ubt ，编辑器会自动替换为 Ubuntu 。您可以将 iabbrev 命令缩写为 iab ，例如：</p>
<p>iab ubt Ubuntu</p>
<p>以上命令，您可以直接在命令模式下输入，临时启用。也可以写入配置文件，永久启用。</p>
<p>单词补全</p>
<p>&lt;Ctrl+n&gt; 下一个匹配项</p>
<p>&lt;Ctrl+p&gt; 上一个匹配项</p>
<p>您可以在配置文件中定义补全的方式</p>
<p>“自动补全方式：(使用逗号分隔)</p>
<p>set complete=k,.</p>
<p>“    . 当前文件</p>
<p>“    b 已被装缓冲区,但是没有在窗口内的文件</p>
<p>“    d 在当前的文件中定义和由#include 包含进来的文件</p>
<p>“    i 由#include 包含进来的文件</p>
<p>“    k 由 dictionary 选项定义的文件</p>
<p>“    kfile 名为{file}的文件</p>
<p>“    t 标记(tags)文件</p>
<p>“    u 没有载入的缓冲区</p>
<p>“    w 在其他窗口中的文件</p>
<p>“设定自动补全字典 ：</p>
<p>set dictionary=path</p>
<p>命令模式</p>
<p>前面介绍了普通模式和插入模式。我们发现，普通模式主要用来浏览和修改文本内容，而插入模式则用来向文本中添加内容。</p>
<p>而命令模式则多用于操作文本文件（而不是操作文本文件的内容），例如保存文件；或者用来更改编辑器本身的状态，例如设定多栏窗口、标签或者退出编辑器…… w(rote) 将更改写入文件</p>
<p>:w</p>
<p>q(uit) 退出编辑器:</p>
<p>:q</p>
<p>某些情况下，编辑器会阻止命令的执行。例如您修改了文件，而没有保存，那么您使用 :q 命令退出时，编辑器就不会执行这条命令，而是提醒您保存文件。这个时候，您可以在命令末尾追加 ! 来强制执行命令</p>
<p>:&lt;命令&gt;!</p>
<p>例如 :q! ，即便您没有保存已修改的文件，使用此命令，编辑器也会放弃修改而强行退出</p>
<p>以    ! 引导一个 Shell 命令，则可以从 Vim 临时切换到 Shell 中，执行一个 Shell :!&lt;命令&gt;</p>
<p>例如 :!ls</p>
<p>多栏窗口</p>
<p>您可以使用以下命令，将当前窗口水平分为两栏</p>
<p>:new</p>
<p>新建一栏空白窗口</p>
<p>48</p>
<p>Ubuntu 完全教程(szyzln 于 2009 年 5 月 9 日整理)</p>
<p>:split</p>
<p>将当前文件分两栏显示</p>
<p>同理，您可以使用下列命令，将当前窗口垂直分为两栏</p>
<p>:vnew</p>
<p>:vsplit</p>
<p>先按下 &lt;ctrl+w&gt; 键，再按下方向键 j 、 k 、 l 、 h ，您可以切换到其它栏；在当前栏中使用 :q 命令，可以退出当前栏，也可以使用其它命令，对当前栏作出修改</p>
<p>如果您希望当前命令在所有栏中生效，您可以在命令的末尾追加 all :&lt;命令&gt;all</p>
<p>例如：</p>
<p>:qall</p>
<p>如果您希望这条命令强制执行，那么 ! 位于命令的最末</p>
<p>:&lt;命令&gt;all!</p>
<p>例如：<br>:qall! 强行退出所有栏窗口<br>标签页<br>Vim 在 7 以后的版本，开始支持标签页的功能<br>:tabnew 新建一个标签<br>:tabnext 转到下一个标签<br>:tabprevious 转到上一个标签<br>多数情况下，您可以使用鼠标点击标签进行切换。</p>

      </div>
      
      <footer class="post-footer">
        
        <nav class="post-nav"><a class="prev" href="/2020/05/21/Editor/emacs/Emacs%20Configs/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Emacs Configs</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2020/05/21/Databases/MySQL/">
        <span class="next-text nav-default">《MySQL必知必会》笔记</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Gloomy楠</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v="></script>
</body>
</html>
